"use strict";(self["webpackChunklaitoutiao"]=self["webpackChunklaitoutiao"]||[]).push([[97],{958:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",[t("van-nav-bar",{attrs:{title:"登录","left-arrow":""},on:{"click-left":function(t){return e.$router.back()}}}),t("van-form",{on:{submit:e.onSubmit}},[t("van-field",{attrs:{name:"username",label:"手机号",placeholder:"请填写手机号",rules:[{required:!0,message:"请填写手机号"},{pattern:/^1[3-9]\d{9}$/,message:"手机号格式错误"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"},{validator:e=>/^\w{6,12}$/.test(e),message:"密码格式错误,需要是6-12位的字母或数字"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{staticStyle:{"background-color":"#7e8ad4"},attrs:{round:"",block:"","native-type":"submit"}},[e._v("提交")])],1),t("router-link",{staticStyle:{float:"left","padding-left":"16px"},attrs:{to:"/forget"}},[e._v("忘记密码")]),t("router-link",{staticStyle:{float:"right","padding-right":"16px"},attrs:{to:"/reg"}},[e._v("注册")])],1)],1)},o=[],r=(a(1611),a(7061)),n=(a(3970),a(140)),l=a(2900),i={name:"login",components:{[n.Z.name]:n.Z,[r.Z.name]:r.Z},data(){return{username:"",password:""}},methods:{onSubmit(e){console.log("submit",e),(0,l.x4)(e).then((e=>{if(console.log(e),0==e.code){let{token:t,tokenExpired:a}=e;localStorage.setItem("token",t),localStorage.setItem("tokenExpired",a),this.$store.dispatch("getUserInfo",t),setTimeout((e=>{this.$router.back()}),500)}else this.$toast(e.msg||"登录失败")}))}}},u=i,c=a(1001),d=(0,c.Z)(u,s,o,!1,null,null,null),m=d.exports}}]);
//# sourceMappingURL=97.68b3f447.js.map