{"version":3,"file":"js/97.68b3f447.js","mappings":"8JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAON,EAAIO,QAAQC,WAAWN,EAAG,WAAW,CAACG,GAAG,CAAC,OAASL,EAAIS,WAAW,CAACP,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,MAAM,YAAc,SAAS,MAAQ,CAAC,CAAEM,UAAU,EAAMC,QAAS,UAAW,CAAEC,QAAQ,gBAAiBD,QAAS,aAAcE,MAAM,CAACC,MAAOd,EAAIe,SAAUC,SAAS,SAAUC,GAAMjB,EAAIe,SAASE,GAAKC,WAAW,cAAchB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,WAAW,MAAQ,KAAK,YAAc,KAAK,MAAQ,CAAC,CAAEM,UAAU,EAAMC,QAAS,SAAU,CAAEQ,UAAYC,GAAK,aAAaC,KAAKD,GAAIT,QAAS,2BAA4BE,MAAM,CAACC,MAAOd,EAAIsB,SAAUN,SAAS,SAAUC,GAAMjB,EAAIsB,SAASL,GAAKC,WAAW,cAAchB,EAAG,MAAM,CAACqB,YAAY,CAAC,OAAS,SAAS,CAACrB,EAAG,aAAa,CAACqB,YAAY,CAAC,mBAAmB,WAAWnB,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,cAAc,WAAW,CAACJ,EAAIwB,GAAG,SAAS,GAAGtB,EAAG,cAAc,CAACqB,YAAY,CAAC,MAAQ,OAAO,eAAe,QAAQnB,MAAM,CAAC,GAAK,YAAY,CAACJ,EAAIwB,GAAG,UAAUtB,EAAG,cAAc,CAACqB,YAAY,CAAC,MAAQ,QAAQ,gBAAgB,QAAQnB,MAAM,CAAC,GAAK,SAAS,CAACJ,EAAIwB,GAAG,SAAS,IAAI,IAElsCC,EAAkB,G,iDCqCtB,GACAC,KAAAA,QACAC,WAAAA,CACA,eACA,gBAEAC,OACA,OACAb,SAAAA,GACAO,SAAAA,KAGAO,QAAAA,CACApB,SAAAA,GACAqB,QAAAA,IAAAA,SAAAA,IAEAC,EAAAA,EAAAA,IAAAA,GAAAA,MAAAA,IAGA,GAFAD,QAAAA,IAAAA,GAEA,WAEA,UAAAE,EAAAA,aAAAC,GAAA,EACAC,aAAAA,QAAAA,QAAAA,GACAA,aAAAA,QAAAA,eAAAA,GAEA,sCAEAC,YAAAA,IACA,sBACA,UAGA,iCCvE8P,I,UCO1PC,GAAY,OACd,EACArC,EACA0B,GACA,EACA,KACA,KACA,MAIF,EAAeW,EAAiB","sources":["webpack://laitoutiao/./src/views/user/login.vue","webpack://laitoutiao/src/views/user/login.vue","webpack://laitoutiao/./src/views/user/login.vue?cdca","webpack://laitoutiao/./src/views/user/login.vue?9e5e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"登录\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"username\",\"label\":\"手机号\",\"placeholder\":\"请填写手机号\",\"rules\":[{ required: true, message: '请填写手机号' },{ pattern:/^1[3-9]\\d{9}$/, message: '手机号格式错误' }]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' },{ validator: (e)=> /^\\w{6,12}$/.test(e), message: '密码格式错误,需要是6-12位的字母或数字' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{staticStyle:{\"background-color\":\"#7e8ad4\"},attrs:{\"round\":\"\",\"block\":\"\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1),_c('router-link',{staticStyle:{\"float\":\"left\",\"padding-left\":\"16px\"},attrs:{\"to\":\"/forget\"}},[_vm._v(\"忘记密码\")]),_c('router-link',{staticStyle:{\"float\":\"right\",\"padding-right\":\"16px\"},attrs:{\"to\":\"/reg\"}},[_vm._v(\"注册\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar title=\"登录\" left-arrow  @click-left=\"$router.back()\"> </van-nav-bar>\r\n    <van-form @submit=\"onSubmit\">\r\n      <!-- field 字段 -->\r\n        <van-field\r\n          v-model=\"username\"\r\n          name=\"username\"\r\n          label=\"手机号\"\r\n          placeholder=\"请填写手机号\"\r\n          :rules=\"[{ required: true, message: '请填写手机号' },{ pattern:/^1[3-9]\\d{9}$/, message: '手机号格式错误' }]\"\r\n        />\r\n\r\n        <van-field\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          label=\"密码\"\r\n          placeholder=\"密码\"\r\n          :rules=\"[{ required: true, message: '请填写密码' },{ validator: (e)=> /^\\w{6,12}$/.test(e), message: '密码格式错误,需要是6-12位的字母或数字' }]\"\r\n        />\r\n        <div style=\"margin: 16px;\">\r\n          <van-button \r\n          round \r\n          block \r\n          style=\"background-color:#7e8ad4;\" \r\n          native-type=\"submit\">提交</van-button>\r\n        </div>\r\n      <router-link style=\"float:left; padding-left:16px\" to=\"/forget\">忘记密码</router-link>\r\n      <router-link style=\"float:right; padding-right:16px\" to=\"/reg\">注册</router-link>\r\n  </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Form } from 'vant';\r\nimport { Field } from 'vant';\r\nimport {login} from '@/api/user'\r\n\r\nexport default {\r\n  name:\"login\",\r\n  components:{\r\n    [Form.name]:Form,\r\n    [Field.name]:Field\r\n  },\r\n   data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit(values) {\r\n      console.log('submit', values);\r\n\r\n      login(values).then(res=>{\r\n        console.log(res)\r\n\r\n        if(res.code==0){\r\n\r\n          let {token,tokenExpired} = res;\r\n          localStorage.setItem('token',token);\r\n          localStorage.setItem('tokenExpired', tokenExpired);\r\n\r\n          this.$store.dispatch('getUserInfo',token)\r\n\r\n          setTimeout(v=>{\r\n                 this.$router.back()\r\n          },500)\r\n\r\n        }else{\r\n            this.$toast(res.msg||'登录失败');\r\n        }\r\n\r\n      })\r\n\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=4f779268&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","$router","back","onSubmit","required","message","pattern","model","value","username","callback","$$v","expression","validator","e","test","password","staticStyle","_v","staticRenderFns","name","components","data","methods","console","login","token","tokenExpired","localStorage","setTimeout","component"],"sourceRoot":""}