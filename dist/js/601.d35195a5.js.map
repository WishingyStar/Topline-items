{"version":3,"file":"js/601.d35195a5.js","mappings":"gKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,mBAAmB,CAACE,GAAG,CAAC,QAAUJ,EAAIK,WAAWC,MAAM,CAACC,MAAOP,EAAIQ,UAAWC,SAAS,SAAUC,GAAMV,EAAIQ,UAAUE,GAAKC,WAAW,cAAc,CAACT,EAAG,WAAW,CAACU,MAAM,CAAC,SAAWZ,EAAIa,SAAS,gBAAgB,SAAST,GAAG,CAAC,KAAOJ,EAAIc,SAASR,MAAM,CAACC,MAAOP,EAAIe,QAASN,SAAS,SAAUC,GAAMV,EAAIe,QAAQL,GAAKC,WAAW,YAAYX,EAAIgB,GAAIhB,EAAIiB,MAAM,SAASC,EAAKC,GAAO,OAAOjB,EAAG,KAAK,CAACkB,IAAID,EAAME,KAAK,CAACnB,EAAG,IAAI,CAACF,EAAIsB,GAAGtB,EAAIuB,GAAGL,EAAKM,UAAUtB,EAAG,MAAM,CAACuB,MAAM,CAC/gBC,KAA0B,GAApBR,EAAKS,YACXC,SAA8B,GAApBV,EAAKS,YACfE,YAAiC,GAApBX,EAAKS,cACjB3B,EAAIgB,GAAIE,EAAKY,UAAU,SAASC,GAAK,OAAO7B,EAAG,MAAM,CAACkB,IAAIW,EAAInB,MAAM,CAAC,IAAMmB,QAAS,QAAO,IAAI,IAAI,IAE5GC,EAAkB,G,kDCyBtB,GACAC,KAAAA,aACAC,WAAAA,CACA,eACA,gBAEAC,OACA,OACApB,SAAAA,EACAF,UAAAA,EACAuB,KAAAA,EACAC,MAAAA,GACA7B,WAAAA,EACAS,KAAAA,GACAqB,SAAAA,KAGAC,UACA,0CAEAC,QAAAA,CACA1B,QAAAA,GACA,aAAAwB,EAAAA,KAAAF,EAAAA,MAAAC,GAAA,MACAI,EAAAA,EAAAA,IAAAA,CACAH,WACAF,OACAC,UACAK,MAAAC,IAGA,GAFAC,QAAAA,IAAAA,GAEA,WACA,GACA,iBACA,mBAEA,0BAIA,uBAEA,WACA,kBAEA,gBACA,kBAKAvC,YACA,YACA,iBACA,oBCpF6P,I,UCOzPwC,GAAY,OACd,EACA9C,EACAiC,GACA,EACA,KACA,KACA,MAIF,EAAea,EAAiB","sources":["webpack://laitoutiao/./src/views/search/list.vue","webpack://laitoutiao/src/views/search/list.vue","webpack://laitoutiao/./src/views/search/list.vue?395f","webpack://laitoutiao/./src/views/search/list.vue?8e03"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isRefresh),callback:function ($$v) {_vm.isRefresh=$$v},expression:\"isRefresh\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getList},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('li',{key:index._id},[_c('p',[_vm._v(_vm._s(item.title))]),_c('div',{class:{\n            hide: item.poster_type == 1,\n            rightImg: item.poster_type == 2,\n            articleImgs: item.poster_type == 3,\n          }},_vm._l((item.imageSrc),function(img){return _c('img',{key:img,attrs:{\"src\":img}})}),0)])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-pull-refresh v-model=\"isRefresh\" @refresh=\"onRefresh\">\r\n      <!--  容器 -->\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"getList\"\r\n      >\r\n        <li v-for=\"(item, index) in list\" :key=\"index._id\">\r\n          <p>{{ item.title }}</p>\r\n          <div\r\n            :class=\"{\r\n              hide: item.poster_type == 1,\r\n              rightImg: item.poster_type == 2,\r\n              articleImgs: item.poster_type == 3,\r\n            }\"\r\n          >\r\n            <img v-for=\"img in item.imageSrc\" :key=\"img\" :src=\"img\" />\r\n          </div>\r\n        </li>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { List, PullRefresh } from \"vant\";\r\nimport { search } from \"@/api/api\";\r\n\r\nexport default {\r\n  name: \"searchList\",\r\n  components: {\r\n    [List.name]: List,\r\n    [PullRefresh.name]: PullRefresh,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      finished: false,\r\n      skip: 0,\r\n      limit: 20,\r\n      isRefresh: false,\r\n      list: [],\r\n      key_word: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.key_word = this.$route.query.key_word;\r\n  },\r\n  methods: {\r\n    getList(flag) {\r\n      let { key_word, skip, limit } = this;\r\n      search({\r\n        key_word,\r\n        skip,\r\n        limit,\r\n      }).then((res) => {\r\n        console.log(res);\r\n\r\n        if (res.code == 0) {\r\n          if (flag) {\r\n            this.list = res.data;\r\n            this.isRefresh = false\r\n          } else {\r\n            this.list.push(...res.data);\r\n          }\r\n\r\n\r\n          let len = this.list.length;\r\n\r\n          if (len >= res.count) {\r\n            this.finished = true;\r\n          } else {\r\n            this.loading = false;\r\n            this.skip = len;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    onRefresh() {\r\n      this.skip = 0;\r\n      this.finished = false;\r\n      this.getList(true);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=38141f7a&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","on","onRefresh","model","value","isRefresh","callback","$$v","expression","attrs","finished","getList","loading","_l","list","item","index","key","_id","_v","_s","title","class","hide","poster_type","rightImg","articleImgs","imageSrc","img","staticRenderFns","name","components","data","skip","limit","key_word","created","methods","search","then","res","console","component"],"sourceRoot":""}